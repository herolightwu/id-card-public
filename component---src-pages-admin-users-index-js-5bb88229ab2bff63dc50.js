(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{T7RP:function(e,t,a){"use strict";a.r(t),a.d(t,"UsersDT",(function(){return D}));var n=a("dI71"),i=(a("eiRb"),a("q1tI")),r=a.n(i),s=a("Wbzz"),o=a("/MKj"),c=a("YMtY"),l=a("PsDL"),u=a("oCA+"),d=a("bSwy"),m=a.n(d),f=a("7SZd"),g=a("Z3vd"),p=a("pdwK"),h=a("1AYd"),x=a("ADg1"),v=a("cVXz"),w=a("jjAL"),b=a("vDqi"),S=a.n(b),E=a("7oih"),j=a("ydnR"),y=a("tRbT"),C=a("CkNY").c+"/api/users/",_=[{field:"id",headerName:"ID",width:140},{field:"email",headerName:"Email",width:140},{field:"first_name",headerName:"First Name",width:200},{field:"last_name",headerName:"Last Name",width:200},{field:"user_status",headerName:"User_ Status",width:140,hide:!0}];function D(e){var t=e.data;void 0!==t&&(t=t.map((function(e){return e.id=e.user_id,e})));var a=r.a.useRef({columns:_,rows:t,rowLength:100,maxColumns:8}),n=(Object(o.useDispatch)(),r.a.useState([])),i=n[0],l=n[1],u=r.a.useState(0),d=u[0],m=u[1],f=r.a.useState([]),g=f[0],p=f[1],h=r.a.useState(10),x=h[0],v=h[1],w=r.a.useState(!1),b=w[0],E=w[1],j=function(e,t){if(i.length>0){console.log("All Users : ",i);var a=i;e&&(a=a.filter((function(t){return t.email.includes(e)}))),t&&(a=a.filter((function(e){return e.user_status==t}))),a=a.filter((function(e){return"Administrator"==e.user_role})),n=a.slice(d*x,(d+1)*x).map((function(e){return e.id=e.user_id,e})),p(n)}var n};r.a.useEffect((function(){return function(){E(!0);var e={Authorization:"Bearer "+localStorage.getItem("token")};new Promise((function(t){setTimeout((function(){S.a.get(C,{headers:e}).then((function(e){var a=e.data.data;l(a),t(a)})).catch((function(e){return console.log(e),null})).finally((function(){E(!1)}))}),500*Math.random()+100)}))}(),function(){!1}}),[d,a,x]),r.a.useEffect((function(){j(e.email,e.status)}),[e.email,e.status,i]);return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(c.a,{rows:g,columns:_,autoHeight:!0,pagination:!0,pageSize:10,rowsPerPageOptions:[5,10,20],onPageSizeChange:function(e){e.page,e.pageCount;var t=e.pageSize;e.rowCount;v(t)},rowCount:100,checkboxSelection:!0,paginationMode:"server",onPageChange:function(e){m(e)},loading:b,onCellClick:function(e,t){!function(e){var t={id:e.user_id,email:e.email,first_name:e.first_name,last_name:e.last_name,user_role:e.user_role,user_status:e.user_status,user_permissions:e.user_permissions,user_programs:e.user_programs,created_date:e.created_date};Object(s.navigate)("/admin/users/view",{state:t})}(e.row)}}))}var W=function(e){function t(t){var a;(a=e.call(this,t)||this).onNewUser=function(){Object(s.navigate)("/admin/users/create")},a.onTapSearch=function(){};var n=localStorage.getItem("user_role");return a.state={isLogin:!0,status:"",email:"",users:[],create_roles:"Administrator"===n},a}Object(n.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this.props;e.dispatch,e.userData,e.basicData},a.render=function(){var e=this,t=this.props;t.userData,t.classes;return r.a.createElement(E.a,{menuIndex:5},r.a.createElement(y.a,{container:!0,spacing:3,style:{maxWidth:900,marginLeft:"auto",marginRight:"auto"}},r.a.createElement(y.a,{item:!0,sm:6},r.a.createElement("div",{style:{paddingLeft:5,paddingRight:5,background:j.a.lightGray,maxWidth:300}},r.a.createElement(x.a,{style:{width:"100%"}},r.a.createElement(h.a,{htmlFor:"filled-basic"},"Email Address"),r.a.createElement(p.a,{id:"filled-basic",type:"email",value:this.state.email,variant:"filled",onChange:function(t){e.setState({email:t.target.value})},endAdornment:r.a.createElement(f.a,{position:"end"},r.a.createElement(l.a,{"aria-label":"toggle password visibility",onClick:this.onTapSearch,onMouseDown:this.onTapSearch},r.a.createElement(m.a,null)))})))),r.a.createElement(y.a,{item:!0,sm:4,xs:!1}),r.a.createElement(y.a,{item:!0,sm:2,xs:12},r.a.createElement(x.a,{fullWidth:!0},r.a.createElement(h.a,{id:"select-status"},"Status"),r.a.createElement(v.a,{labelId:"select-status",id:"select-status",value:this.state.status,fullWidth:!0,onChange:function(t){e.setState({status:t.target.value})}},r.a.createElement(w.a,{value:""},"All"),r.a.createElement(w.a,{value:"enabled"},"Enabled"),r.a.createElement(w.a,{value:"locked"},"Locked"),r.a.createElement(w.a,{value:"disabled"},"Disabled")))),r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(D,{data:this.state.users,email:this.state.email,status:this.state.status})),this.state.create_roles?r.a.createElement(y.a,{item:!0,md:2,sm:3,xs:12},r.a.createElement(g.a,{variant:"contained",size:"medium",color:"primary",fullWidth:!0,onClick:this.onNewUser},"New User")):null))},t}(r.a.Component);t.default=function(e){var t=Object(o.useDispatch)(),a=Object(o.useSelector)((function(e){return e.app.userData})),n=Object(u.a)();return r.a.createElement(W,Object.assign({},e,{dispatch:t,userData:a,classes:n}))}},tRbT:function(e,t,a){"use strict";a("RUBk");var n=a("Ff2n"),i=a("wx14"),r=a("q1tI"),s=a("iuhU"),o=a("H2TA"),c=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=parseFloat(e);return"".concat(a/t).concat(String(e).replace(String(a),"")||"px")}var d=r.forwardRef((function(e,t){var a=e.alignContent,o=void 0===a?"stretch":a,c=e.alignItems,l=void 0===c?"stretch":c,u=e.classes,d=e.className,m=e.component,f=void 0===m?"div":m,g=e.container,p=void 0!==g&&g,h=e.direction,x=void 0===h?"row":h,v=e.item,w=void 0!==v&&v,b=e.justify,S=void 0===b?"flex-start":b,E=e.lg,j=void 0!==E&&E,y=e.md,C=void 0!==y&&y,_=e.sm,D=void 0!==_&&_,W=e.spacing,k=void 0===W?0:W,O=e.wrap,z=void 0===O?"wrap":O,I=e.xl,N=void 0!==I&&I,A=e.xs,M=void 0!==A&&A,R=e.zeroMinWidth,T=void 0!==R&&R,L=Object(n.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),U=Object(s.a)(u.root,d,p&&[u.container,0!==k&&u["spacing-xs-".concat(String(k))]],w&&u.item,T&&u.zeroMinWidth,"row"!==x&&u["direction-xs-".concat(String(x))],"wrap"!==z&&u["wrap-xs-".concat(String(z))],"stretch"!==l&&u["align-items-xs-".concat(String(l))],"stretch"!==o&&u["align-content-xs-".concat(String(o))],"flex-start"!==S&&u["justify-xs-".concat(String(S))],!1!==M&&u["grid-xs-".concat(String(M))],!1!==D&&u["grid-sm-".concat(String(D))],!1!==C&&u["grid-md-".concat(String(C))],!1!==j&&u["grid-lg-".concat(String(j))],!1!==N&&u["grid-xl-".concat(String(N))]);return r.createElement(f,Object(i.a)({className:U,ref:t},L))})),m=Object(o.a)((function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var a={};return c.forEach((function(n){var i=e.spacing(n);0!==i&&(a["spacing-".concat(t,"-").concat(n)]={margin:"-".concat(u(i,2)),width:"calc(100% + ".concat(u(i),")"),"& > $item":{padding:u(i,2)}})})),a}(e,"xs"),e.breakpoints.keys.reduce((function(t,a){return function(e,t,a){var n={};l.forEach((function(e){var t="grid-".concat(a,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");n[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else n[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else n[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===a?Object(i.a)(e,n):e[t.breakpoints.up(a)]=n}(t,e,a),t}),{}))}),{name:"MuiGrid"})(d);t.a=m}}]);
//# sourceMappingURL=component---src-pages-admin-users-index-js-5bb88229ab2bff63dc50.js.map