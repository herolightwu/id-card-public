(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"1FtR":function(e,t,a){"use strict";a.r(t),a.d(t,"UsersDT",(function(){return D}));var n=a("dI71"),i=(a("eiRb"),a("q1tI")),r=a.n(i),s=a("Wbzz"),o=a("vDqi"),c=a.n(o),l=a("/MKj"),u=a("YMtY"),d=a("PsDL"),m=a("oCA+"),f=a("bSwy"),g=a.n(f),p=a("7SZd"),h=a("Z3vd"),x=a("pdwK"),v=a("1AYd"),w=a("ADg1"),b=a("cVXz"),S=a("jjAL"),E=a("7oih"),_=a("ydnR"),j=a("tRbT"),y=a("CkNY").c+"/api/users/",C=[{field:"email",headerName:"Email",width:140},{field:"first_name",headerName:"First Name",width:200},{field:"last_name",headerName:"Last Name",width:200},{field:"user_status",headerName:"User_ Status",width:140,hide:!0},{field:"id",headerName:"ID",width:140}];function D(e){var t=e.data;t=t.map((function(e){return e.id=e.user_id,e}));var a=r.a.useRef({columns:C,rows:t,rowLength:100,maxColumns:8}),n=(Object(l.useDispatch)(),r.a.useState([])),i=n[0],o=n[1],d=r.a.useState(0),m=d[0],f=d[1],g=r.a.useState([]),p=g[0],h=g[1],x=r.a.useState(10),v=x[0],w=x[1],b=r.a.useState(!1),S=b[0],E=b[1],_=function(e,t){if(i.length>0){console.log("All Users : ",i);var a=i;e&&(a=a.filter((function(t){return t.email.includes(e)}))),t&&(a=a.filter((function(e){return e.user_status==t}))),n=a.slice(m*v,(m+1)*v).map((function(e){return e.id=e.user_id,e})),h(n)}var n};r.a.useEffect((function(){return function(){E(!0);var e={Authorization:"Bearer "+localStorage.getItem("token")};new Promise((function(t){setTimeout((function(){c.a.get(y,{headers:e}).then((function(e){var a=e.data.data;o(a),t(a)})).catch((function(e){return console.log(e),null})).finally((function(){E(!1)}))}),500*Math.random()+100)}))}(),function(){!1}}),[m,a,v]),r.a.useEffect((function(){_(e.email,e.status)}),[e.email,e.status,i]);return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(u.a,{rows:p,columns:C,autoHeight:!0,pagination:!0,pageSize:10,rowsPerPageOptions:[5,10,20],onPageSizeChange:function(e){e.page,e.pageCount;var t=e.pageSize;e.rowCount;w(t)},rowCount:100,checkboxSelection:!0,paginationMode:"server",onPageChange:function(e){f(e)},loading:S,onCellClick:function(e,t){console.log("cellData : ",e.row),function(e){var t={id:e.user_id,email:e.email,first_name:e.first_name,last_name:e.last_name,user_role:e.user_role,user_status:e.user_status,user_permissions:e.user_permissions,user_programs:e.user_programs,created_date:e.created_date};Object(s.navigate)("/users/view",{state:t})}(e.row)}}))}var W=function(e){function t(t){var a;(a=e.call(this,t)||this).onNewUser=function(){Object(s.navigate)("/users/create/",{state:{id:0,email:"",first_name:"",last_name:"",user_role:"",user_status:!0,user_permissions:"",user_programs:"",created_date:"01-01-2020"}})},a.onTapSearch=function(){};var n=localStorage.getItem("user_role");return console.log("user_role:",n),a.state={isLogin:!0,status:"",email:"",users:[],create_roles:"Administrator"===n||"Program Manager"===n},a}Object(n.a)(t,e);var a=t.prototype;return a.componentDidMount=function(){var e=this.props;e.dispatch,e.userData,e.basicData},a.render=function(){var e=this,t=this.props;t.userData,t.classes;return r.a.createElement(E.a,{menuIndex:4},r.a.createElement(j.a,{container:!0,spacing:3,style:{maxWidth:900,marginLeft:"auto",marginRight:"auto"}},r.a.createElement(j.a,{item:!0,sm:6},r.a.createElement("div",{style:{paddingLeft:5,paddingRight:5,background:_.a.lightGray,maxWidth:300}},r.a.createElement(w.a,{style:{width:"100%"}},r.a.createElement(v.a,{htmlFor:"filled-basic"},"Email Address"),r.a.createElement(x.a,{id:"filled-basic",type:"email",value:this.state.email,variant:"filled",onChange:function(t){e.setState({email:t.target.value})},endAdornment:r.a.createElement(p.a,{position:"end"},r.a.createElement(d.a,{"aria-label":"toggle password visibility",onClick:this.onTapSearch,onMouseDown:this.onTapSearch},r.a.createElement(g.a,null)))})))),r.a.createElement(j.a,{item:!0,sm:4,xs:!1}),r.a.createElement(j.a,{item:!0,sm:2,xs:12},r.a.createElement(w.a,{fullWidth:!0},r.a.createElement(v.a,{id:"select-status"},"Status"),r.a.createElement(b.a,{labelId:"select-status",id:"select-status",value:this.state.status,fullWidth:!0,onChange:function(t){e.setState({status:t.target.value})}},r.a.createElement(S.a,{value:""},"All"),r.a.createElement(S.a,{value:"enabled"},"Enabled"),r.a.createElement(S.a,{value:"locked"},"Locked"),r.a.createElement(S.a,{value:"disabled"},"Disabled")))),r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(D,{data:this.state.users,email:this.state.email,status:this.state.status})),this.state.create_roles?r.a.createElement(j.a,{item:!0,md:2,sm:3,xs:12},r.a.createElement(h.a,{variant:"contained",size:"medium",color:"primary",fullWidth:!0,onClick:this.onNewUser},"New User")):null))},t}(r.a.Component);t.default=function(e){var t=Object(l.useDispatch)(),a=Object(l.useSelector)((function(e){return e.app.userData})),n=Object(m.a)();return r.a.createElement(W,Object.assign({},e,{dispatch:t,userData:a,classes:n}))}},tRbT:function(e,t,a){"use strict";a("RUBk");var n=a("Ff2n"),i=a("wx14"),r=a("q1tI"),s=a("iuhU"),o=a("H2TA"),c=[0,1,2,3,4,5,6,7,8,9,10],l=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12];function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=parseFloat(e);return"".concat(a/t).concat(String(e).replace(String(a),"")||"px")}var d=r.forwardRef((function(e,t){var a=e.alignContent,o=void 0===a?"stretch":a,c=e.alignItems,l=void 0===c?"stretch":c,u=e.classes,d=e.className,m=e.component,f=void 0===m?"div":m,g=e.container,p=void 0!==g&&g,h=e.direction,x=void 0===h?"row":h,v=e.item,w=void 0!==v&&v,b=e.justify,S=void 0===b?"flex-start":b,E=e.lg,_=void 0!==E&&E,j=e.md,y=void 0!==j&&j,C=e.sm,D=void 0!==C&&C,W=e.spacing,k=void 0===W?0:W,O=e.wrap,z=void 0===O?"wrap":O,I=e.xl,N=void 0!==I&&I,M=e.xs,A=void 0!==M&&M,R=e.zeroMinWidth,L=void 0!==R&&R,T=Object(n.a)(e,["alignContent","alignItems","classes","className","component","container","direction","item","justify","lg","md","sm","spacing","wrap","xl","xs","zeroMinWidth"]),U=Object(s.a)(u.root,d,p&&[u.container,0!==k&&u["spacing-xs-".concat(String(k))]],w&&u.item,L&&u.zeroMinWidth,"row"!==x&&u["direction-xs-".concat(String(x))],"wrap"!==z&&u["wrap-xs-".concat(String(z))],"stretch"!==l&&u["align-items-xs-".concat(String(l))],"stretch"!==o&&u["align-content-xs-".concat(String(o))],"flex-start"!==S&&u["justify-xs-".concat(String(S))],!1!==A&&u["grid-xs-".concat(String(A))],!1!==D&&u["grid-sm-".concat(String(D))],!1!==y&&u["grid-md-".concat(String(y))],!1!==_&&u["grid-lg-".concat(String(_))],!1!==N&&u["grid-xl-".concat(String(N))]);return r.createElement(f,Object(i.a)({className:U,ref:t},T))})),m=Object(o.a)((function(e){return Object(i.a)({root:{},container:{boxSizing:"border-box",display:"flex",flexWrap:"wrap",width:"100%"},item:{boxSizing:"border-box",margin:"0"},zeroMinWidth:{minWidth:0},"direction-xs-column":{flexDirection:"column"},"direction-xs-column-reverse":{flexDirection:"column-reverse"},"direction-xs-row-reverse":{flexDirection:"row-reverse"},"wrap-xs-nowrap":{flexWrap:"nowrap"},"wrap-xs-wrap-reverse":{flexWrap:"wrap-reverse"},"align-items-xs-center":{alignItems:"center"},"align-items-xs-flex-start":{alignItems:"flex-start"},"align-items-xs-flex-end":{alignItems:"flex-end"},"align-items-xs-baseline":{alignItems:"baseline"},"align-content-xs-center":{alignContent:"center"},"align-content-xs-flex-start":{alignContent:"flex-start"},"align-content-xs-flex-end":{alignContent:"flex-end"},"align-content-xs-space-between":{alignContent:"space-between"},"align-content-xs-space-around":{alignContent:"space-around"},"justify-xs-center":{justifyContent:"center"},"justify-xs-flex-end":{justifyContent:"flex-end"},"justify-xs-space-between":{justifyContent:"space-between"},"justify-xs-space-around":{justifyContent:"space-around"},"justify-xs-space-evenly":{justifyContent:"space-evenly"}},function(e,t){var a={};return c.forEach((function(n){var i=e.spacing(n);0!==i&&(a["spacing-".concat(t,"-").concat(n)]={margin:"-".concat(u(i,2)),width:"calc(100% + ".concat(u(i),")"),"& > $item":{padding:u(i,2)}})})),a}(e,"xs"),e.breakpoints.keys.reduce((function(t,a){return function(e,t,a){var n={};l.forEach((function(e){var t="grid-".concat(a,"-").concat(e);if(!0!==e)if("auto"!==e){var i="".concat(Math.round(e/12*1e8)/1e6,"%");n[t]={flexBasis:i,flexGrow:0,maxWidth:i}}else n[t]={flexBasis:"auto",flexGrow:0,maxWidth:"none"};else n[t]={flexBasis:0,flexGrow:1,maxWidth:"100%"}})),"xs"===a?Object(i.a)(e,n):e[t.breakpoints.up(a)]=n}(t,e,a),t}),{}))}),{name:"MuiGrid"})(d);t.a=m}}]);
//# sourceMappingURL=component---src-pages-users-index-js-b9151a002cb68beafe1a.js.map